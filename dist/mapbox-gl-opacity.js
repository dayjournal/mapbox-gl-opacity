"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var defaultOptions={baseLayers:null,overLayers:null,opacityControl:!1},OpacityControl=function(){function e(t){_classCallCheck(this,e),this._baseLayersOption=t.baseLayers||defaultOptions.baseLayers,this._overLayersOption=t.overLayers||defaultOptions.overLayers,this._opacityControlOption=t.opacityControl||defaultOptions.opacityControl}return _createClass(e,[{key:"_radioButtonControlAdd",value:function(e){var t=this,n=document.createElement("input");n.setAttribute("type","radio"),n.id=e,e===Object.keys(this._baseLayersOption)[0]?(n.checked=!0,this._map.setLayoutProperty(e,"visibility","visible")):this._map.setLayoutProperty(e,"visibility","none"),this._container.appendChild(n),n.addEventListener("change",function(n){n.target.checked=!0,t._map.setLayoutProperty(e,"visibility","visible"),Object.keys(t._baseLayersOption).forEach(function(e){e!==n.target.id&&(document.getElementById(e).checked=!1,t._map.setLayoutProperty(e,"visibility","none"))})});var i=document.createElement("span");i.appendChild(document.createTextNode(this._baseLayersOption[e])),this._container.appendChild(i)}},{key:"_checkBoxControlAdd",value:function(e){var t=this,n=document.createElement("input");n.setAttribute("type","checkbox"),n.id=e,this._map.setLayoutProperty(e,"visibility","none"),this._container.appendChild(n),n.addEventListener("change",function(n){var i=n.target.checked;i?t._map.setLayoutProperty(e,"visibility","visible"):t._map.setLayoutProperty(e,"visibility","none")});var i=document.createElement("span");i.appendChild(document.createTextNode(this._overLayersOption[e])),this._container.appendChild(i)}},{key:"_rangeControlAdd",value:function(e){var t=this,n=document.createElement("input");n.type="range",n.min=0,n.max=100,n.value=100,this._container.appendChild(n),n.addEventListener("input",function(n){var i=n.target.value;t._map.setPaintProperty(e,"raster-opacity",Number(i/100))})}},{key:"_opacityControlAdd",value:function(){var e=this;if(this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl mapboxgl-ctrl-group",this._container.id="opacity-control",null!==this._baseLayersOption&&Object.keys(this._baseLayersOption).forEach(function(t){var n=t,i=document.createElement("br");e._radioButtonControlAdd(n),e._container.appendChild(i)}),null!==this._baseLayersOption&&null!==this._overLayersOption){var t=document.createElement("hr");this._container.appendChild(t)}null!==this._overLayersOption&&Object.keys(this._overLayersOption).forEach(function(t){var n=t,i=document.createElement("br");e._checkBoxControlAdd(n),e._container.appendChild(i),e._opacityControlOption&&(e._rangeControlAdd(n),e._container.appendChild(i))})}},{key:"onAdd",value:function(e){return this._map=e,this._opacityControlAdd(),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container),this._map=void 0}}]),e}();